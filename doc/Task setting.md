# Постановка задачи.

Из технического задания Российской государственной библиотеки
можно выделить 2 независимые задачи:
1. Задача обнаружения дубликатов страниц.
2. Задача группировки страниц по выпускам периодики.

Напрямую из технического задания не следует, но также может быть сформулирована 
дополнительная задача, вытекающая из первой:
- Задача улучшения качества страниц, имеющих дубликаты.

Эти задачи правильно выполнять с помощью технологий компьютерного зрения.
Представленные задачи в терминах компьютерного зрения 
переформулируются следующим образом:
1. Задача сравнения цифровых копий страниц для выявления и 
устранения одинаковых копий одной страницы среди 
множества цифровых копий страниц периодических изданий (скан-копий).
В результате необходимо оставить одну из цифровых копий, имеющую
наиболее высокое качество, определенный на основе параметров 
контраста, резкости, яркости, цветовой насыщенности.
2. Задача кластеризации цифровых копий страниц периодических изданий
по номерам выпусков из массива цифровых копий страниц разных номеров периодических изданий.
3. Задача сегментации дефектов цифровых копий страниц, имеющих
дубликаты, замена сегментов с дефектами на такие же сегменты 
из других копий.

Продукт, реализующий описанные задачи, может быть использован во всех архивах и библиотеках
 для повышения производительности труда в работе создания и упорядочивания цифровых копий архивных данных.

Ввиду того, что большая часть архивных данных не должна быть доступна широкому кругу лиц или
 доступ к ним возможен только для просмотра, разворачивание сетевого сервиса, решающего задачи,
 связанные с созданием и упорядочиванием цифровых копий архивных данных может нести риски 
утечки данных. Поэтому целесообразно разворачивать такие сервисы на локальных машинах в самих
архивах.

На данный момент нет данных о времени ручной обработки цифровых копий страниц человеком, а также
метрик качества такой обработки. Также нет данных о том, какие метрики качества работы компьютерного алгоритма
могут считаться успешными при реализации поставленных задач.
В таких условиях имеет смысл опираться на метрики качества алгоритмов, решающих близкие задачи.

## Обзор известных решений

Известные решения используют как классические алгоритмы компьютерного зрения, так и нейросетевые модели:
1. В. Ю. Пименов. Метод поиска нечетких дубликатов
   изображений на основе выявления точечных особенностей.
   Труды РОМИП 2007-2008, с. 145-158. СПб.:НУ ЦСИ, 2008.
2. А. В. Кузнецов, В. В. Мясников. Алгоритм обнаружения искаженных дубликатов на цифровых изображениях
с использованием бинарных градиентных контуров. Компьютерная оптика №2 2016,
с. 284-293.
3. В. И. Марчук. Устройство поиска дубликатов изображений. Патент на изобретение RU 2538319 C1, 2015.
4. Л. Н. Абдурайимов. Приложение для поиска дубликатов изображений "Visual similarity", свидетельство о 
государственной регистрации программы для ЭВМ RU 2021662170, 2021.
5. А. В. Савченко. Детектирование специализированных категорий объектов на фотографиях в мобильных
устройствах на основе многозадачной нейросетевой модели. Информационные технологии, с. 586-593, 2020.
6. Система оцифровки газет "Технологика". https://www.technologika.ru/projects/newspaper-digitization-system

Довольно большое количество статей и решений существует по поиску неточных/искаженных копий изображений.
Такие решения используют как классические методы работы с изображениями, так и нейросетевые модели. 
Особенно много программ по работе с частными фотоархивами, имеющих ряд дополнительных функций.
Решений, реализующих группировку изображений по какому-то признаку в них найти сложно, но эта задача может быть решена 
частными методами, такими как поиск логотипа газеты на титульной странице, поиск номеров страниц для группировки.

Сводная таблица некоторых найденных решений

| Название решения/подхода                                                                                           | Тип задачи                                                  | Используемые методы и инструменты                                                    | Преимущества и недостатки                                                                                        | Лицензия                                                                               | edge/cloud                                                                                                               |
|--------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|--------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------|
| Метод поиска нечетких дубликатов изображений на основе выявления точечных особенностей                             | Сравнение изображений по ключевым точкам                    | SIFT + фильтрация дескрипторов + QT расчет взаимных расстояний векторов дескрипторов | Быстро работает даже на процессоре, но точность не более 79% при полноте 63%.                                    | Патент на SIFT алгоритм истек, возможно свободное применение.                          | Алгоритм может быть реализован как на персональном ПК, так и развернут в облаке. Готового решения на базе алгоритма нет. |
| Алгоритм обнаружения искаженных дубликатов на цифровых изображениях с использованием бинарных градиентных контуров | Сравнение изображений методом бинарных градиентных контуров | Не использует готовые библиотеки                                                     | Устойчив к изменению качества изображения без изменения содержания. Не требует серьезных вычислительных ресурсов | Нет библиотек, реализующих алгоритм.                                                   | Реализация отсутствует.                                                                                                  |
|Устройство поиска дубликатов изображений| Сравнение изображений по ключевым точкам                    | Преобразование в цветовое пространство AIQ + ASIFT                                   | Более устойчив к перепадам яркости, чем ASIFT.                                                                   | CeCILL-C у ASIFT (аналог GPL), статус патента неопределен, вероятно, просрочен платеж. | Нет готового продукта.                                                                                                   |
|Приложение для поиска дубликатов изображений "Visual similarity"||||                                                                                        ||